{"ast":null,"code":"import _objectSpread from\"/Users/kavyamandla/Desktop/react/recipe-react-client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/kavyamandla/Desktop/react/recipe-react-client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/kavyamandla/Desktop/react/recipe-react-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import classes from\"./AddRecipe.module.scss\";import icons from\"../../img/icons.svg\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddRecipe=function AddRecipe(props){var units=[\"tsp\",\"tbsp\",\"fl oz\",\"cup\",\"pint\",\"quart\",\"g (gallon)\",\"ml\",\"l\",\"dl\",\"lb\",\"oz\",\"mg\",\"g (gram)\",\"kg\",\"mm\",\"cm\",\"m\",\"in\"];var onHideHandler=function onHideHandler(){props.setAddingRecipe(false);};var _useState=useState(),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),enteredName=_useState4[0],setEnteredName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),enteredAuthor=_useState6[0],setEnteredAuthor=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),enteredCuisine=_useState8[0],setEnteredCuisine=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),selectedCategory=_useState10[0],setSelectedCategory=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),enteredServings=_useState12[0],setEnteredServings=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),enteredCookingTime=_useState14[0],setEnteredCookingTime=_useState14[1];var _useState15=useState([{value:null,unit:null,item:null}]),_useState16=_slicedToArray(_useState15,2),ingredients=_useState16[0],setIngredients=_useState16[1];var _useState17=useState([{value:null}]),_useState18=_slicedToArray(_useState17,2),directions=_useState18[0],setDirections=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),enteredImageURL=_useState20[0],setEnteredImageURL=_useState20[1];var _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),ingVal=_useState22[0],setIngVal=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),ingUnit=_useState24[0],setIngUnit=_useState24[1];var addIngredientHandler=function addIngredientHandler(){var val=_toConsumableArray(ingredients);val.push({value:null,unit:null,item:null});console.log(val);setIngredients(val);};var onIngredientValChangeHandler=function onIngredientValChangeHandler(i,e){var val=_toConsumableArray(ingredients);val[i].value=e.target.value;setIngredients(val);};var onIngredientUnitChangeHandler=function onIngredientUnitChangeHandler(i,e){console.log(e.target.value);var val=_toConsumableArray(ingredients);val[i].unit=e.target.value;// console.log(val);\nsetIngredients(val);};var onIngredientItemChangeHandler=function onIngredientItemChangeHandler(i,e){console.log(e.target.value);var val=_toConsumableArray(ingredients);val[i].item=e.target.value;// console.log(val);\nsetIngredients(val);};var addDirectionHandler=function addDirectionHandler(){var val=_toConsumableArray(directions);val.push({value:null});setDirections(val);};var onDirectionChangeHandler=function onDirectionChangeHandler(i,e){var val=_toConsumableArray(directions);val[i].value=e.target.value;setDirections(val);};var onNameChangeHandler=function onNameChangeHandler(e){setEnteredName(e.target.value);// console.log(.target.value);\n};var onCuisineChangeHandler=function onCuisineChangeHandler(e){setEnteredCuisine(e.target.value);// console.log(.target.value);\n};var onCategorySelectHandler=function onCategorySelectHandler(e){setSelectedCategory(e.target.outerText);// console.log(e.target.outerText);\n};var onImageURLChangeHandler=function onImageURLChangeHandler(e){setEnteredImageURL(e.target.value);};console.log(ingredients);var onServingsChangeHandler=function onServingsChangeHandler(e){setEnteredServings(e.target.value);// console.log(.target.value);\n};var onCookingTimeChangeHandler=function onCookingTimeChangeHandler(e){setEnteredCookingTime(e.target.value);// console.log(.target.value);\n};var onAuthorChangeHandler=function onAuthorChangeHandler(e){setEnteredAuthor(e.target.value);// console.log(.target.value);\n};var saveUserDataHandler=function saveUserDataHandler(enteredUserData){var userData=_objectSpread(_objectSpread({},enteredUserData),{},{id:Math.random().toString()});props.onAddRecipe(userData);console.log(userData);};var addRecipeHandler=function addRecipeHandler(e){e.preventDefault();//do some validation\nif(enteredName===\"\"||enteredAuthor===\"\"||enteredImageURL===\"\"||enteredServings===\"\"||enteredCookingTime===\"\"||selectedCategory===\"\"||ingredients===[]||directions===[]){alert(\"Please fill out details!\");return;}var newRecipeData={title:enteredName,publisher:enteredAuthor,img:enteredImageURL,ingredients:ingredients,servings:enteredServings,cookingTime:enteredCookingTime,cuisine:enteredCuisine,category:selectedCategory,directions:directions};console.log(newRecipeData);axios.post(\"https://guarded-hamlet-19105.herokuapp.com/recipes\",newRecipeData).then(function(res){return console.log(res.data);});saveUserDataHandler(newRecipeData);setEnteredName(\"\");setEnteredAuthor(\"\");setEnteredCuisine(\"\");setEnteredServings(\"\");setEnteredCookingTime(\"\");setIngredients([{value:null}]);setDirections([{value:null}]);setEnteredImageURL(\"\");onHideHandler();};return/*#__PURE__*/_jsx(\"div\",{className:classes.overlay,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{className:classes.exit,children:/*#__PURE__*/_jsx(\"svg\",{children:/*#__PURE__*/_jsx(\"use\",{xlinkHref:\"\".concat(icons,\"#icon-exit\")})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.details_one,children:[/*#__PURE__*/_jsx(\"h4\",{className:classes.title,children:\"Add Recipe\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:addRecipeHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.name,children:[/*#__PURE__*/_jsx(\"label\",{children:\" Title: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:onNameChangeHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.name,children:[/*#__PURE__*/_jsx(\"label\",{children:\" Author: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:onAuthorChangeHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.name,children:[/*#__PURE__*/_jsx(\"label\",{children:\" Image URL: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:onImageURLChangeHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.cuisine,children:[/*#__PURE__*/_jsx(\"label\",{children:\" Cuisine: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:onCuisineChangeHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.category,children:[/*#__PURE__*/_jsx(\"label\",{children:\" Category: \"}),/*#__PURE__*/_jsx(\"span\",{children:props.categoryArr.map(function(category){return/*#__PURE__*/_jsx(\"button\",{className:classes.categoryButton,type:\"button\",onClick:onCategorySelectHandler,children:category});})}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"+\",className:classes.categoryButton,onClick:addIngredientHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.extrainfo,children:[/*#__PURE__*/_jsxs(\"span\",{className:classes.extraspan,children:[/*#__PURE__*/_jsx(\"label\",{children:\" Servings: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:onServingsChangeHandler})]}),/*#__PURE__*/_jsxs(\"span\",{className:classes.extraspan,children:[/*#__PURE__*/_jsx(\"label\",{children:\" Cooking Time: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:onCookingTimeChangeHandler})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.directions,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Ingredients:\"}),ingredients.map(function(ingredient,i){return/*#__PURE__*/_jsxs(\"span\",{className:classes.dirspan,children:[/*#__PURE__*/_jsxs(\"label\",{className:classes.dirlabel,children:[i+1,\".\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:ingredient.value||\"\",onChange:function onChange(e){return onIngredientValChangeHandler(i,e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"search\"// value={ingredient.unit || \"\"}\n,list:\"text_editors\",onChange:function onChange(e){return onIngredientUnitChangeHandler(i,e);}}),/*#__PURE__*/_jsx(\"datalist\",{id:\"text_editors\",children:/*#__PURE__*/_jsx(\"select\",{multiple:true,size:\"1\",children:units.map(function(a){return/*#__PURE__*/_jsx(\"option\",{value:a,children:a});})})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:ingredient.item||\"\",onChange:function onChange(e){return onIngredientItemChangeHandler(i,e);}})]});}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"+\",className:classes.add,onClick:addIngredientHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.directions,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Directions:\"}),directions.map(function(direction,i){return/*#__PURE__*/_jsxs(\"span\",{className:classes.dirspan,children:[/*#__PURE__*/_jsxs(\"label\",{className:classes.dirlabel,children:[i+1,\".\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:direction.value||\"\",onChange:function onChange(e){return onDirectionChangeHandler(i,e);}})]});}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"+\",className:classes.add,onClick:addDirectionHandler})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.center,children:/*#__PURE__*/_jsx(\"button\",{type:\"search\",className:classes.submitButton,children:\"Submit\"})})]})]})]})});};export default AddRecipe;","map":{"version":3,"sources":["/Users/kavyamandla/Desktop/react/recipe-react-client/src/components/AddRecipe/AddRecipe.js"],"names":["React","useState","useEffect","Link","classes","icons","axios","AddRecipe","props","units","onHideHandler","setAddingRecipe","error","setError","enteredName","setEnteredName","enteredAuthor","setEnteredAuthor","enteredCuisine","setEnteredCuisine","selectedCategory","setSelectedCategory","enteredServings","setEnteredServings","enteredCookingTime","setEnteredCookingTime","value","unit","item","ingredients","setIngredients","directions","setDirections","enteredImageURL","setEnteredImageURL","ingVal","setIngVal","ingUnit","setIngUnit","addIngredientHandler","val","push","console","log","onIngredientValChangeHandler","i","e","target","onIngredientUnitChangeHandler","onIngredientItemChangeHandler","addDirectionHandler","onDirectionChangeHandler","onNameChangeHandler","onCuisineChangeHandler","onCategorySelectHandler","outerText","onImageURLChangeHandler","onServingsChangeHandler","onCookingTimeChangeHandler","onAuthorChangeHandler","saveUserDataHandler","enteredUserData","userData","id","Math","random","toString","onAddRecipe","addRecipeHandler","preventDefault","alert","newRecipeData","title","publisher","img","servings","cookingTime","cuisine","category","post","then","res","data","overlay","container","exit","details_one","form","name","categoryArr","map","categoryButton","extrainfo","extraspan","ingredient","dirspan","dirlabel","a","add","direction","center","submitButton"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport classes from \"./AddRecipe.module.scss\";\nimport icons from \"../../img/icons.svg\";\nimport axios from \"axios\";\nconst AddRecipe = (props) => {\n  const units = [\n    \"tsp\",\n    \"tbsp\",\n    \"fl oz\",\n    \"cup\",\n    \"pint\",\n    \"quart\",\n    \"g (gallon)\",\n    \"ml\",\n    \"l\",\n    \"dl\",\n    \"lb\",\n    \"oz\",\n    \"mg\",\n    \"g (gram)\",\n    \"kg\",\n    \"mm\",\n    \"cm\",\n    \"m\",\n    \"in\",\n  ];\n  const onHideHandler = () => {\n    props.setAddingRecipe(false);\n  };\n\n  const [error, setError] = useState();\n  const [enteredName, setEnteredName] = useState(\"\");\n  const [enteredAuthor, setEnteredAuthor] = useState(\"\");\n  const [enteredCuisine, setEnteredCuisine] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [enteredServings, setEnteredServings] = useState(\"\");\n  const [enteredCookingTime, setEnteredCookingTime] = useState(\"\");\n  const [ingredients, setIngredients] = useState([\n    { value: null, unit: null, item: null },\n  ]);\n  const [directions, setDirections] = useState([{ value: null }]);\n  const [enteredImageURL, setEnteredImageURL] = useState(\"\");\n  const [ingVal, setIngVal] = useState(0);\n  const [ingUnit, setIngUnit] = useState(\"\");\n  const addIngredientHandler = () => {\n    const val = [...ingredients];\n    val.push({ value: null, unit: null, item: null });\n    console.log(val);\n    setIngredients(val);\n  };\n  const onIngredientValChangeHandler = (i, e) => {\n    const val = [...ingredients];\n    val[i].value = e.target.value;\n    setIngredients(val);\n  };\n  const onIngredientUnitChangeHandler = (i, e) => {\n    console.log(e.target.value);\n    const val = [...ingredients];\n    val[i].unit = e.target.value;\n    // console.log(val);\n    setIngredients(val);\n  };\n  const onIngredientItemChangeHandler = (i, e) => {\n    console.log(e.target.value);\n    const val = [...ingredients];\n    val[i].item = e.target.value;\n    // console.log(val);\n    setIngredients(val);\n  };\n  const addDirectionHandler = () => {\n    const val = [...directions];\n    val.push({ value: null });\n    setDirections(val);\n  };\n  const onDirectionChangeHandler = (i, e) => {\n    const val = [...directions];\n    val[i].value = e.target.value;\n    setDirections(val);\n  };\n\n  const onNameChangeHandler = (e) => {\n    setEnteredName(e.target.value);\n    // console.log(.target.value);\n  };\n  const onCuisineChangeHandler = (e) => {\n    setEnteredCuisine(e.target.value);\n    // console.log(.target.value);\n  };\n  const onCategorySelectHandler = (e) => {\n    setSelectedCategory(e.target.outerText);\n    // console.log(e.target.outerText);\n  };\n\n  const onImageURLChangeHandler = (e) => {\n    setEnteredImageURL(e.target.value);\n  };\n  console.log(ingredients);\n  const onServingsChangeHandler = (e) => {\n    setEnteredServings(e.target.value);\n    // console.log(.target.value);\n  };\n  const onCookingTimeChangeHandler = (e) => {\n    setEnteredCookingTime(e.target.value);\n    // console.log(.target.value);\n  };\n  const onAuthorChangeHandler = (e) => {\n    setEnteredAuthor(e.target.value);\n    // console.log(.target.value);\n  };\n  const saveUserDataHandler = (enteredUserData) => {\n    const userData = {\n      ...enteredUserData,\n      id: Math.random().toString(),\n    };\n    props.onAddRecipe(userData);\n    console.log(userData);\n  };\n  const addRecipeHandler = (e) => {\n    e.preventDefault();\n    //do some validation\n    if (\n      enteredName === \"\" ||\n      enteredAuthor === \"\" ||\n      enteredImageURL === \"\" ||\n      enteredServings === \"\" ||\n      enteredCookingTime === \"\" ||\n      selectedCategory === \"\" ||\n      ingredients === [] ||\n      directions === []\n    ) {\n      alert(\"Please fill out details!\");\n      return;\n    }\n    const newRecipeData = {\n      title: enteredName,\n      publisher: enteredAuthor,\n      img: enteredImageURL,\n      ingredients: ingredients,\n      servings: enteredServings,\n      cookingTime: enteredCookingTime,\n      cuisine: enteredCuisine,\n      category: selectedCategory,\n      directions: directions,\n    };\n    console.log(newRecipeData);\n    axios\n      .post(\"https://guarded-hamlet-19105.herokuapp.com/recipes\", newRecipeData)\n      .then((res) => console.log(res.data));\n    saveUserDataHandler(newRecipeData);\n    setEnteredName(\"\");\n    setEnteredAuthor(\"\");\n    setEnteredCuisine(\"\");\n    setEnteredServings(\"\");\n    setEnteredCookingTime(\"\");\n    setIngredients([{ value: null }]);\n    setDirections([{ value: null }]);\n    setEnteredImageURL(\"\");\n    onHideHandler();\n  };\n  return (\n    <div className={classes.overlay}>\n      <div className={classes.container}>\n        <div>\n          <Link to=\"/\">\n            <button className={classes.exit}>\n              <svg>\n                <use xlinkHref={`${icons}#icon-exit`}></use>\n              </svg>\n            </button>\n          </Link>\n        </div>\n\n        <div className={classes.details_one}>\n          <h4 className={classes.title}>Add Recipe</h4>\n          <form className={classes.form} onSubmit={addRecipeHandler}>\n            <div className={classes.name}>\n              <label> Title: </label>\n              <input type=\"text\" onChange={onNameChangeHandler} />\n            </div>\n            <div className={classes.name}>\n              <label> Author: </label>\n              <input type=\"text\" onChange={onAuthorChangeHandler} />\n            </div>\n            <div className={classes.name}>\n              <label> Image URL: </label>\n              <input type=\"text\" onChange={onImageURLChangeHandler} />\n            </div>\n            <div className={classes.cuisine}>\n              <label> Cuisine: </label>\n              <input type=\"text\" onChange={onCuisineChangeHandler} />\n            </div>\n\n            <div className={classes.category}>\n              <label> Category: </label>\n              <span>\n                {props.categoryArr.map((category) => {\n                  return (\n                    <button\n                      className={classes.categoryButton}\n                      type=\"button\"\n                      onClick={onCategorySelectHandler}\n                    >\n                      {category}\n                    </button>\n                  );\n                })}\n              </span>\n              <input\n                type=\"button\"\n                value=\"+\"\n                className={classes.categoryButton}\n                onClick={addIngredientHandler}\n              />\n            </div>\n            <div className={classes.extrainfo}>\n              <span className={classes.extraspan}>\n                <label> Servings: </label>\n                <input type=\"text\" onChange={onServingsChangeHandler} />\n              </span>\n              <span className={classes.extraspan}>\n                <label> Cooking Time: </label>\n                <input type=\"text\" onChange={onCookingTimeChangeHandler} />\n              </span>\n            </div>\n            <div className={classes.directions}>\n              <label>Ingredients:</label>\n              {ingredients.map((ingredient, i) => {\n                return (\n                  <span className={classes.dirspan}>\n                    <label className={classes.dirlabel}>{i + 1}.</label>\n                    <input\n                      type=\"text\"\n                      value={ingredient.value || \"\"}\n                      onChange={(e) => onIngredientValChangeHandler(i, e)}\n                    />\n\n                    <input\n                      type=\"search\"\n                      // value={ingredient.unit || \"\"}\n                      list=\"text_editors\"\n                      onChange={(e) => onIngredientUnitChangeHandler(i, e)}\n                    />\n\n                    <datalist id=\"text_editors\">\n                      <select multiple size=\"1\">\n                        {units.map((a) => {\n                          return <option value={a}>{a}</option>;\n                        })}\n                      </select>\n                    </datalist>\n                    <input\n                      type=\"text\"\n                      value={ingredient.item || \"\"}\n                      onChange={(e) => onIngredientItemChangeHandler(i, e)}\n                    />\n                  </span>\n                );\n              })}\n\n              <input\n                type=\"button\"\n                value=\"+\"\n                className={classes.add}\n                onClick={addIngredientHandler}\n              />\n            </div>\n            <div className={classes.directions}>\n              <label>Directions:</label>\n              {directions.map((direction, i) => {\n                return (\n                  <span className={classes.dirspan}>\n                    <label className={classes.dirlabel}>{i + 1}.</label>\n                    <input\n                      type=\"text\"\n                      value={direction.value || \"\"}\n                      onChange={(e) => onDirectionChangeHandler(i, e)}\n                    />\n                  </span>\n                );\n              })}\n\n              <input\n                type=\"button\"\n                value=\"+\"\n                className={classes.add}\n                onClick={addDirectionHandler}\n              />\n            </div>\n            <div className={classes.center}>\n              {/* <Link to=\"/\"> */}\n              <button type=\"search\" className={classes.submitButton}>\n                Submit\n              </button>\n              {/* </Link> */}\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AddRecipe;\n"]},"metadata":{},"sourceType":"module"}